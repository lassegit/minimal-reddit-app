(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,n,t){e.exports=t(65)},65:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(18),o=t.n(c),i=t(20),u=t(3),l=t(10),s=t(5),d=t(41),m=t(6);function p(){var e=Object(m.a)(["\n  ","\n"]);return p=function(){return e},e}function f(){var e=Object(m.a)(["\n  ","\n"]);return f=function(){return e},e}function b(){var e=Object(m.a)(["\n  ","\n"]);return b=function(){return e},e}function v(){var e=Object(m.a)(["\n      font-size: 18px;\n    "]);return v=function(){return e},e}function E(){var e=Object(m.a)(["\n  color: ",";\n  text-decoration: none;\n  &:visited {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n\n  ","\n"]);return E=function(){return e},e}var g=Object(s.c)(E(),function(e){return e.theme.link.main},function(e){return e.theme.link.visited},function(e){return e.large&&Object(s.c)(v())}),h=Object(s.d)(i.c)(b(),g),O=Object(s.d)(i.b)(f(),g),j=s.d.a(p(),g),x=function(e){var n=e.type,t=Object(d.a)(e,["type"]);return"a"===n?a.a.createElement(j,t):"nav"===n?a.a.createElement(h,t):a.a.createElement(O,t)};x.defaultProps={type:"link"};var S=x,y=function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent};function k(){var e=Object(m.a)(["\n  font-size: 16px;\n  line-height: 22px;\n  a {\n    color: ",";\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n    &:visited {\n      color: ",";\n    }\n  }\n  p {\n    margin: 0 0 20px 0;\n  }\n  blockquote {\n    margin: 0;\n    padding: 0 0 0 20px;\n    font-style: italic;\n  }\n"]);return k=function(){return e},e}function w(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return w=function(){return e},e}function _(){var e=Object(m.a)(["\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin: -10px 0 5px 0;\n  font-size: 12px;\n"]);return _=function(){return e},e}function T(){var e=Object(m.a)(["\n  display: block;\n  margin: 15px 0;\n  padding: 15px 0;\n  border-bottom: 1px dashed #ddd;\n"]);return T=function(){return e},e}var M=s.d.div(T()),R=s.d.ul(_()),C=s.d.li(w()),L=s.d.code(k(),function(e){return e.theme.link.main},function(e){return e.theme.link.visited}),U=function(e){var n=e.comment;return a.a.createElement(M,null,a.a.createElement(L,{dangerouslySetInnerHTML:{__html:y(n.body_html)}}),a.a.createElement(R,null,a.a.createElement(C,null,a.a.createElement(S,{href:"https://reddit.com/".concat(n.permalink),target:"_blank",type:"a"},"permalink"))))},I=t(38);function P(){var e=Object(m.a)(["\n  background-color: #808080;\n  border-color: #808080;\n  color: #000;\n  border-radius: 2px;\n  padding: 2px 4px;\n"]);return P=function(){return e},e}var N=s.d.button(P()),z=function(e){return a.a.createElement(N,e)};function B(){var e=Object(m.a)(["\n  border-radius: 2px;\n  padding: 3px 4px;\n  border: none;\n"]);return B=function(){return e},e}var D=s.d.input(B()),F=Object(l.b)()(function(e){var n=e.dispatch,t=Object(r.useState)(""),c=Object(I.a)(t,2),o=c[0],i=c[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o&&(n({type:"SUB_ADD",sub:o}),i(""))}},a.a.createElement(D,{type:"text",placeholder:"Add subreddit",value:o,onChange:function(e){return i(e.target.value)}})," ",a.a.createElement(z,{type:"submit"},"Add"))});function A(){var e=Object(m.a)(["\n  margin: 0 0 5px 0;\n"]);return A=function(){return e},e}function Q(){var e=Object(m.a)(["\n  list-style: none;\n  padding: 0;\n"]);return Q=function(){return e},e}var J=s.d.ul(Q()),H=s.d.li(A()),V=Object(l.b)(function(e){return{subs:e.sub}})(function(e){var n=e.subs;return a.a.createElement(J,null,n.map(function(e,n){return a.a.createElement(H,{key:n},a.a.createElement(S,{to:"/r/".concat(e),large:"true"},e)," ")}))}),G="https://ssl.reddit.com/r",W="768px";function q(){var e=Object(m.a)(["\n  @media (min-width: ",") {\n    flex: 0 1 700px;\n    margin-left: 200px;\n  }\n"]);return q=function(){return e},e}function $(){var e=Object(m.a)(["\n  @media (min-width: ",") {\n    width: 200px;\n    overflow: hidden;\n    position: fixed;\n    top: 25px;\n    left: 20px;\n  }\n"]);return $=function(){return e},e}function K(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: ",") {\n    flex-direction: row;\n  }\n"]);return K=function(){return e},e}var X=s.d.div(K(),W),Y=s.d.div($(),W),Z=s.d.div(q(),W),ee=function(e){var n=e.column1,t=e.column2;return a.a.createElement(X,null,a.a.createElement(Y,null,n),a.a.createElement(Z,null,t))};ee.defaultProps={column1:a.a.createElement(a.a.Fragment,null,a.a.createElement(F,null)," ",a.a.createElement(V,null)),column2:null};var ne=ee;function te(){var e=Object(m.a)(["\n  color: '#f2f2f2';\n  line-height: 23px;\n  white-space: pre-line;\n"]);return te=function(){return e},e}var re=s.d.p(te());function ae(){var e=Object(m.a)(["\n  ","\n  font-size: 1.7rem;\n"]);return ae=function(){return e},e}function ce(){var e=Object(m.a)(["\n  ","\n  font-size: 2rem;\n"]);return ce=function(){return e},e}function oe(){var e=Object(m.a)(["\n  ","\n  font-size: 2.5rem;\n"]);return oe=function(){return e},e}var ie="\n  color: #f2f2f2;\n  margin: 0 0 10px 0;\n  line-height: 1.2;\n  font-weight: 200;\n",ue=s.d.h1(oe(),ie),le=(s.d.h2(ce(),ie),s.d.h3(ae(),ie));function se(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return se=function(){return e},e}function de(){var e=Object(m.a)(["\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin: 5px 0;\n  font-size: 12px;\n"]);return de=function(){return e},e}var me=s.d.ul(de()),pe=s.d.li(se()),fe=function(e){var n=e.comments,t=e.post,c=e.isLoading,o=e.error,i=e.dispatch,u=e.match,l=t.title,s=t.selftext_html,d=t.permalink,m=t.num_comments,p=u.params,f=p.sub,b=p.id;return Object(r.useEffect)(function(){i({type:"COMMENTS_REQUEST",sub:f,id:b})},[]),c?a.a.createElement(ne,{column2:a.a.createElement(le,null,"Loading comments\u2026")}):o?a.a.createElement(ne,{column2:a.a.createElement(re,null,o)}):a.a.createElement(ne,{column2:a.a.createElement(a.a.Fragment,null,a.a.createElement(le,null,l),s&&a.a.createElement(L,{dangerouslySetInnerHTML:{__html:y(s)}}),a.a.createElement(me,null,a.a.createElement(pe,null,m," comments"),a.a.createElement(pe,null,a.a.createElement(S,{href:"https://reddit.com/".concat(d),target:"_blank",type:"a"},"permalink"))),n.map(function(e){return a.a.createElement(U,{key:e.data.id,comment:e.data})}))})};fe.defaultProps={error:null};var be=Object(l.b)(function(e){return{comments:e.comment.comments,post:e.comment.post,isLoading:e.comment.isLoading,error:e.comment.error}})(fe);function ve(){var e=Object(m.a)(["\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\n    background: #292929;\n    color: #f3f3f3;\n    margin: 0;\n    padding: 20px;\n  }\n"]);return ve=function(){return e},e}var Ee=Object(s.b)(ve()),ge=Object(l.b)(function(e){return{sub:e.sub}})(function(e){var n=e.sub;if(n.length){var t=n[Math.floor(Math.random()*n.length)];return a.a.createElement(u.a,{push:!0,to:"/r/".concat(t)})}return a.a.createElement(a.a.Fragment,null,a.a.createElement(ne,{column2:a.a.createElement(a.a.Fragment,null,a.a.createElement(ue,null,"Casually read the most popular posts on selected subreddits"),a.a.createElement(re,null,"Only posts above a certain popularity are shown and then sorted by date."),a.a.createElement(re,null,"Visited links are slighty darker."))}))});function he(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return he=function(){return e},e}function Oe(){var e=Object(m.a)(["\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin: 5px 0;\n  font-size: 12px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(m.a)(["\n  display: block;\n  margin: 15px 0;\n  padding: 15px 0;\n  border-bottom: 1px dashed #ddd;\n"]);return je=function(){return e},e}var xe=s.d.div(je()),Se=s.d.ul(Oe()),ye=s.d.li(he()),ke=a.a.memo(function(e){var n=e.post,t=n.id,r=n.subreddit,c=n.url,o=n.title,i=n.created_utc,u=n.domain,l=n.author,s=n.num_comments,d=new Date(1e3*i).toLocaleDateString(navigator.language||navigator.userLanguage,{weekday:"long",year:"2-digit",month:"short",day:"numeric"});return a.a.createElement(xe,null,a.a.createElement(S,{href:c,target:"_blank",type:"a",large:!0},o),a.a.createElement(Se,null,a.a.createElement(ye,null,d),a.a.createElement(ye,null,a.a.createElement(S,{to:"/comments/".concat(r,"/").concat(t)},"comments (",s,")")),a.a.createElement(ye,null,a.a.createElement(S,{href:"https://reddit.com/user/".concat(l),target:"_blank",type:"a"},l)),a.a.createElement(ye,null,a.a.createElement(S,{href:"https://reddit.com/domain/".concat(u,"/"),type:"a"},u))))}),we=function(e){var n=e.posts,t=e.activeSubId,c=e.match,o=e.isLoading,i=e.dispatch,u=e.error,l=c.params.id;return Object(r.useEffect)(function(){l!==t&&i({type:"POSTS_REQUEST",payload:{id:l}})},[l]),o?a.a.createElement(ne,{column2:a.a.createElement(le,null,'Loading posts from "',l,'"\u2026')}):a.a.createElement("div",null,a.a.createElement(ne,{column2:a.a.createElement(a.a.Fragment,null,a.a.createElement(le,null,"/r/",l," ",a.a.createElement(z,{onClick:function(){return i({type:"SUB_REMOVE",sub:l})}},"Remove")),u&&a.a.createElement(re,null,u),n.map(function(e,n){return a.a.createElement(ke,{key:n,post:e.data})}))}))};we.defaultProps={error:null};var _e=Object(l.b)(function(e){return{posts:e.post.posts,activeSubId:e.post.activeSubId,isLoading:e.post.isLoading,error:e.post.error}})(we),Te=t(39),Me=t(16),Re=(t(62),t(15)),Ce={comments:[],post:{},isLoading:!0,error:null},Le={posts:[],activeSubId:"",isLoading:!1,error:null},Ue=t(30),Ie=[],Pe=Object(Me.c)({comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"COMMENTS_REQUEST":return Object(Re.a)({},e,{post:{},comments:[],isLoading:!0,error:null});case"COMMENTS_SUCCESS":return Object(Re.a)({},e,{post:n.data[0].data.children[0].data,comments:n.data[1].data.children,isLoading:!1});case"COMMENTS_ERROR":return Object(Re.a)({},e,{comments:[],isLoading:!1,error:!0});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"POSTS_REQUEST":return Object(Re.a)({},e,{posts:[],activeSubId:n.payload.id,isLoading:!0,error:!1});case"POSTS_SUCCESS":var t=n.data.data.children.sort(function(e,n){return e.data.created_utc-n.data.created_utc}).reverse();return Object(Re.a)({},e,{posts:t,isLoading:!1});case"POSTS_ERROR":return Object(Re.a)({},e,{error:n.error.message,isLoading:!1});default:return e}},sub:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SUB_ADD":return Object(Ue.a)(new Set([].concat(Object(Ue.a)(e),[n.sub]))).sort();case"SUB_REMOVE":return e.filter(function(e){return n.sub!==e});case"SUBS_GET":default:return e}}}),Ne=t(17),ze=t.n(Ne),Be=t(11),De={method:"GET",cache:"no-cache"},Fe=function(e){return Promise.reject(new Error(e))},Ae={get:function(e,n){return fetch(e,Object(Re.a)({},De,{params:n})).then(function(e){return e.ok?e.json():Fe("".concat(e.status," error occured."))}).catch(function(e){return Fe(e)})}},Qe=ze.a.mark(Je);function Je(e){var n,t,r;return ze.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.sub,t=e.id,a.prev=1,a.next=4,Object(Be.b)(Ae.get,"".concat(G,"/").concat(n,"/comments/").concat(t,"/comments.json?sort=top"));case 4:return r=a.sent,a.next=7,Object(Be.c)({type:"COMMENTS_SUCCESS",data:r,sub:n,id:t});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(Be.c)({type:"COMMENTS_ERROR",error:a.t0,sub:n,id:t});case 13:case"end":return a.stop()}},Qe,this,[[1,9]])}var He=ze.a.mark(Ve);function Ve(e){var n,t;return ze.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload.id,r.prev=1,r.next=4,Object(Be.b)(Ae.get,"".concat(G,"/").concat(n,"/top.json?sort=top&t=week"));case 4:return t=r.sent,r.next=7,Object(Be.c)({type:"POSTS_SUCCESS",data:t,id:n});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(Be.c)({type:"POSTS_ERROR",error:r.t0,id:n});case 13:case"end":return r.stop()}},He,this,[[1,9]])}var Ge=ze.a.mark(We);function We(){return ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Be.a)([Object(Be.d)("POSTS_REQUEST",Ve),Object(Be.d)("COMMENTS_REQUEST",Je)]);case 2:case"end":return e.stop()}},Ge,this)}var qe=We,$e=Object(Te.a)(),Ke=[$e];var Xe={sub:JSON.parse(localStorage.getItem("subs")||"[]")},Ye=Object(Me.e)(Pe,Xe,Me.a.apply(void 0,Ke));$e.run(qe),Ye.subscribe(function(){localStorage.setItem("subs",JSON.stringify(Ye.getState().sub))});var Ze=Ye,en={color:"blue",link:{main:"#1d97ff",visited:"#1267af"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(s.a,{theme:en},a.a.createElement(l.a,{store:Ze},a.a.createElement(i.a,null,a.a.createElement(u.d,null,a.a.createElement(u.b,{path:"/r/:id",component:_e}),a.a.createElement(u.b,{path:"/comments/:sub/:id",component:be}),a.a.createElement(u.b,{path:"/",exact:!0,component:ge}))),a.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,2,1]]]);
//# sourceMappingURL=main.d570ff54.chunk.js.map