(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(n,e,t){n.exports=t(45)},45:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(16),o=t.n(c),u=t(49),i=t(50),l=t(46),s=t(7),m=t(8),d=t(9),p=t(11),f=t(10),b=t(12),h=t(2),g=t(3);function v(){var n=Object(h.a)(["\n  color: '#f2f2f2';\n  line-height: 23px;\n"]);return v=function(){return n},n}var E=g.c.p(v()),O=t(48),j=t(43);function y(){var n=Object(h.a)(["\n  ","\n"]);return y=function(){return n},n}function S(){var n=Object(h.a)(["\n  ","\n"]);return S=function(){return n},n}function x(){var n=Object(h.a)(["\n  ","\n"]);return x=function(){return n},n}function k(){var n=Object(h.a)(["\n      font-size: 18px;\n    "]);return k=function(){return n},n}function _(){var n=Object(h.a)(["\n  color: #1d97ff;\n  text-decoration: none;\n  &:visited {\n    color: #125d9c;\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n\n  ","\n"]);return _=function(){return n},n}var w=Object(g.b)(_(),function(n){return n.large&&Object(g.b)(k())}),C=(Object(g.c)(O.a)(x(),w),Object(g.c)(j.a)(S(),w)),M=g.c.a(y(),w);function R(){var n=Object(h.a)(["\n  margin-right: 10px;\n"]);return R=function(){return n},n}function L(){var n=Object(h.a)(["\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin: -10px 0 5px 0;\n  font-size: 12px;\n"]);return L=function(){return n},n}function T(){var n=Object(h.a)(["\n  display: block;\n  margin: 15px 0;\n  padding: 15px 0;\n  border-bottom: 1px dashed #ddd;\n"]);return T=function(){return n},n}var U=g.c.div(T()),D=g.c.ul(L()),F=g.c.li(R()),P=function(n){var e=n.comment;return a.a.createElement(U,null,a.a.createElement(E,null,e.body),a.a.createElement(D,null,a.a.createElement(F,null,a.a.createElement(M,{href:"https://old.reddit.com/".concat(e.permalink),target:"_blank"},"permalink"))))};function B(){var n=Object(h.a)(["\n  flex: 0 1 700px;\n  margin-bottom: 50px;\n"]);return B=function(){return n},n}function N(){var n=Object(h.a)(["\n  flex: 0 1 200px;\n  height: 99vh;\n  position: -webkit-sticky;\n  position: sticky;\n  top: 10px;\n  left: 10px;\n"]);return N=function(){return n},n}function z(){var n=Object(h.a)(["\n  display: flex;\n"]);return z=function(){return n},n}var A=g.c.div(z()),I=g.c.div(N()),J=g.c.div(B()),Q=function(n){var e=n.column1,t=n.column2;return a.a.createElement(A,null,e&&a.a.createElement(I,null,e),t&&a.a.createElement(J,null,t))};Q.defaultProps={column1:null,column2:null};var V=Q;function W(){var n=Object(h.a)(["\n  background-color: #808080;\n  border-color: #808080;\n  color: #000;\n  border-radius: 2px;\n  padding: 2px 4px;\n"]);return W=function(){return n},n}var G=g.c.button(W());function H(){var n=Object(h.a)(["\n  border-radius: 2px;\n  padding: 3px 4px;\n  border: none;\n"]);return H=function(){return n},n}var $=g.c.input(H()),q=function(n){function e(){var n;return Object(m.a)(this,e),(n=Object(p.a)(this,Object(f.a)(e).call(this))).state={value:""},n}return Object(b.a)(e,n),Object(d.a)(e,[{key:"handleSubmit",value:function(n){n.preventDefault();var e=this.props.dispatch,t=this.state.value;t&&(e({type:"SUB_ADD",sub:t}),this.setState({value:""}))}},{key:"render",value:function(){var n=this,e=this.state.value;return a.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},a.a.createElement($,{type:"text",placeholder:"Add subreddit",value:e,onChange:function(e){return n.setState({value:e.target.value})}})," ",a.a.createElement(G,{type:"submit"},"Add"))}}]),e}(a.a.Component),K=Object(s.b)()(q);function X(){var n=Object(h.a)(["\n  margin: 0 0 5px 0;\n"]);return X=function(){return n},n}function Y(){var n=Object(h.a)(["\n  list-style: none;\n  padding: 0;\n"]);return Y=function(){return n},n}var Z=g.c.ul(Y()),nn=g.c.li(X()),en=function(n){function e(){return Object(m.a)(this,e),Object(p.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,n),Object(d.a)(e,[{key:"render",value:function(){var n=this.props.sub;return a.a.createElement(Z,null,n.map(function(n,e){return a.a.createElement(nn,{key:e},a.a.createElement(C,{to:"/r/".concat(n),large:"true"},n)," ")}))}}]),e}(a.a.Component),tn=Object(s.b)(function(n){return{sub:n.sub}})(en);function rn(){var n=Object(h.a)(["\n  ","\n  font-size: 1.7rem;\n"]);return rn=function(){return n},n}function an(){var n=Object(h.a)(["\n  ","\n  font-size: 2rem;\n"]);return an=function(){return n},n}function cn(){var n=Object(h.a)(["\n  ","\n  font-size: 2.5rem;\n"]);return cn=function(){return n},n}var on="\n  color: #f2f2f2;\n  margin: 0 0 10px 0;\n  line-height: 1.2;\n  font-weight: 200;\n",un=g.c.h1(cn(),on),ln=(g.c.h2(an(),on),g.c.h3(rn(),on));function sn(){var n=Object(h.a)(["\n  margin-right: 10px;\n"]);return sn=function(){return n},n}function mn(){var n=Object(h.a)(["\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin: 5px 0;\n  font-size: 12px;\n"]);return mn=function(){return n},n}var dn=g.c.ul(mn()),pn=g.c.li(sn()),fn=function(n){function e(){return Object(m.a)(this,e),Object(p.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,n),Object(d.a)(e,[{key:"componentDidMount",value:function(){var n,e,t=this.props,r=t.dispatch,a=t.match;r((n=a.params.sub,e=a.params.id,function(t){return t({type:"COMMENTS_REQUEST"}),fetch("".concat("https://ssl.reddit.com/r","/").concat(n,"/comments/").concat(e,"/comments.json")).then(function(n){if(!n.ok)throw new Error("".concat(n.status," error occured."));return n.json()}).then(function(n){return t({type:"COMMENTS_SUCCESS",comments:n})}).catch(function(n){return t({type:"COMMENTS_ERROR",err:n})})}))}},{key:"render",value:function(){var n=this.props,e=n.comments,t=n.post,r=n.isLoading,c=n.error;if(r||c)return a.a.createElement(V,{column1:a.a.createElement(a.a.Fragment,null,a.a.createElement(K,null)," ",a.a.createElement(tn,null)),column2:a.a.createElement(a.a.Fragment,null,a.a.createElement(E,null,r&&"Loading comments\u2026"),a.a.createElement(E,null,c&&c))});var o=t.title,u=t.permalink,i=t.num_comments;return a.a.createElement(V,{column1:a.a.createElement(a.a.Fragment,null,a.a.createElement(K,null)," ",a.a.createElement(tn,null)),column2:a.a.createElement(a.a.Fragment,null,a.a.createElement(ln,null,o),a.a.createElement(dn,null,a.a.createElement(pn,null,i," comments"),a.a.createElement(pn,null,a.a.createElement(M,{href:"https://old.reddit.com/".concat(u),target:"_blank"},"permalink"))),e.map(function(n){return a.a.createElement(P,{key:n.data.id,comment:n.data})}))})}}]),e}(a.a.Component);fn.defaultProps={error:null};var bn=Object(s.b)(function(n){return{comments:n.comment.comments,post:n.comment.post,isLoading:n.comment.isLoading,error:n.comment.error}})(fn);function hn(){var n=Object(h.a)(["\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\n    background: #292929;\n    color: #f3f3f3;\n    margin: 0;\n    padding: 0;\n  }\n"]);return hn=function(){return n},n}var gn=Object(g.a)(hn()),vn=t(51),En=function(n){function e(){return Object(m.a)(this,e),Object(p.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,n),Object(d.a)(e,[{key:"render",value:function(){var n=this.props.sub;if(n.length){var e=n[Math.floor(Math.random()*n.length)];return a.a.createElement(vn.a,{push:!0,to:"/r/".concat(e)})}return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,{column1:a.a.createElement(a.a.Fragment,null,a.a.createElement(K,null)," ",a.a.createElement(tn,null)),column2:a.a.createElement(a.a.Fragment,null,a.a.createElement(un,null,"Casually read the most popular posts on selected subreddits"),a.a.createElement(E,null,"Only posts above a certain popularity are shown and then sorted by date."),a.a.createElement(E,null,"Visited links are slighty darker."))}))}}]),e}(a.a.Component),On=Object(s.b)(function(n){return{sub:n.sub}})(En);function jn(){var n=Object(h.a)(["\n  margin-right: 10px;\n"]);return jn=function(){return n},n}function yn(){var n=Object(h.a)(["\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin: 5px 0;\n  font-size: 12px;\n"]);return yn=function(){return n},n}function Sn(){var n=Object(h.a)(["\n  display: block;\n  margin: 15px 0;\n  padding: 15px 0;\n  border-bottom: 1px dashed #ddd;\n"]);return Sn=function(){return n},n}var xn=g.c.div(Sn()),kn=g.c.ul(yn()),_n=g.c.li(jn()),wn=function(n){var e=n.post,t=e.id,r=e.subreddit,c=e.url,o=e.title,u=e.created_utc,i=e.domain,l=e.author,s=e.num_comments,m=new Date(1e3*u).toLocaleDateString(navigator.language||navigator.userLanguage,{weekday:"long",year:"2-digit",month:"short",day:"numeric"});return a.a.createElement(xn,null,a.a.createElement(M,{href:c,target:"_blank",large:!0},o),a.a.createElement(kn,null,a.a.createElement(_n,null,m),a.a.createElement(_n,null,a.a.createElement(C,{to:"/comments/".concat(r,"/").concat(t)},"comments (",s,")")),a.a.createElement(_n,null,a.a.createElement(M,{href:"https://old.reddit.com/user/".concat(l),target:"_blank"},l)),a.a.createElement(_n,null,a.a.createElement(M,{href:"https://old.reddit.com/domain/".concat(i,"/")},i))))},Cn=function(n){return function(e){return e({type:"POSTS_REQUEST"}),fetch("".concat("https://ssl.reddit.com/r","/").concat(n,"/top.json?sort=top&t=week")).then(function(n){if(!n.ok)throw new Error("".concat(n.status," error occured."));return n.json()}).then(function(n){return e({type:"POSTS_SUCCESS",posts:n})}).catch(function(n){return e({type:"POSTS_ERROR",err:n})})}},Mn=function(n){function e(){return Object(m.a)(this,e),Object(p.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,n),Object(d.a)(e,[{key:"componentDidMount",value:function(){var n=this.props,e=n.dispatch,t=n.match;e(Cn(t.params.id))}},{key:"componentDidUpdate",value:function(n){var e=this.props,t=e.dispatch,r=e.match;r.params.id!==n.match.params.id&&t(Cn(r.params.id))}},{key:"render",value:function(){var n=this.props,e=n.match,t=n.isLoading,r=n.posts,c=n.dispatch,o=n.error;return a.a.createElement("div",null,a.a.createElement(V,{column1:a.a.createElement(a.a.Fragment,null,a.a.createElement(K,null)," ",a.a.createElement(tn,null)),column2:a.a.createElement(a.a.Fragment,null,a.a.createElement(ln,null,"/r/",e.params.id," ",a.a.createElement(G,{onClick:function(){return c({type:"SUB_REMOVE",sub:e.params.id})}},"Remove")),a.a.createElement(E,null,t&&"Loading"),a.a.createElement(E,null,o&&o),!t&&r.map(function(n,e){return a.a.createElement(wn,{key:e,post:n.data})}))}))}}]),e}(a.a.Component);Mn.defaultProps={error:null};var Rn=Object(s.b)(function(n){return{posts:n.post.posts,isLoading:n.post.isLoading,error:n.post.error}})(Mn),Ln=t(29),Tn=t(15),Un=(t(44),{comments:[],post:{},isLoading:!0,error:null}),Dn={posts:[],isLoading:!1,error:null},Fn=t(30),Pn=[],Bn=Object(Tn.c)({comment:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"COMMENTS_REQUEST":return Object.assign({},{post:{},comments:[],isLoading:!0,error:null});case"COMMENTS_SUCCESS":return Object.assign({},{post:e.comments[0].data.children[0].data,comments:e.comments[1].data.children,isLoading:!1});case"COMMENTS_ERROR":return Object.assign({},{comments:[],isLoading:!1,error:!0});default:return n}},post:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"POSTS_REQUEST":return Object.assign({},{posts:[],isLoading:!0,error:!1});case"POSTS_SUCCESS":return Object.assign({},{posts:e.posts.data.children.sort(function(n,e){return n.data.created_utc-e.data.created_utc}).reverse(),isLoading:!1});case"POSTS_ERROR":return Object.assign({},{posts:[],error:e.err.message,isLoading:!1});default:return n}},sub:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SUB_ADD":return n.includes(e.sub)?n:[].concat(Object(Fn.a)(n),[e.sub]).sort();case"SUB_REMOVE":return n.filter(function(n){return e.sub!==n});case"SUBS_GET":default:return n}}}),Nn=[Ln.a];var zn={sub:JSON.parse(localStorage.getItem("subs")||"[]")},An=Object(Tn.d)(Bn,zn,Tn.a.apply(void 0,Nn));An.subscribe(function(){localStorage.setItem("subs",JSON.stringify(An.getState().sub))});var In=An;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(s.a,{store:In},a.a.createElement(u.a,null,a.a.createElement(i.a,null,a.a.createElement(l.a,{path:"/r/:id",component:Rn}),a.a.createElement(l.a,{path:"/comments/:sub/:id",component:bn}),a.a.createElement(l.a,{path:"/",exact:!0,component:On}))),a.a.createElement(gn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.171869f0.chunk.js.map